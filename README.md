# File Sharer (Backend + Next.js UI)

A lightweight peer-to-peer file sharing demo with a minimal Java backend and a Next.js frontend.

## üîß Tech stack

- **Backend:** Java (built with Maven), uses the built-in com.sun.net.httpserver and Apache Commons IO/FileUpload.
- **Frontend:** Next.js + React (in the `ui/` folder).

## üöÄ Features

- Upload a file to the backend (`POST /upload` as multipart/form-data).
- Backend starts a transient file server and returns a JSON payload with the port (e.g. `{ "port": 49152 }`).
- Download a file using the backend proxy at `GET /download/{port}`.

## ‚úÖ Requirements

- Java JDK (matches the project Maven configuration; pom.xml uses Java 25).
- Maven (for building the backend).
- Node.js and npm (for the UI).

## Getting started

### Run the backend

1. Build the backend:

```powershell
mvn compile
```

2. Run the server (from the project root):

```powershell
java -cp target/classes Main
```

The API server listens on port **8080** and prints a message on startup. You can stop it by entering `exit` in the console.

### Run the UI

1. Change into the UI folder and install dependencies:

```powershell
cd ui; npm install
```

2. Start the dev server:

```powershell
npm run dev
```

The Next.js app will be available at http://localhost:3000 by default.

## Usage examples

- Upload a file with curl:

```bash
curl -F "file=@/path/to/file" http://localhost:8080/upload
# returns: { "port": 49152 }
```

- Download the file using the returned port:

```bash
curl -L http://localhost:8080/download/49152 -o received-file
```

## Troubleshooting & notes ‚ö†Ô∏è

- The backend binds the ephemeral file servers to random ports generated by `UploadUtils.generateCode()` (range from the code: 49152+). Ensure your firewall allows those ports and they are not in use.
- The server writes temporary uploads to the system temp directory under `peerlink-uploads`.
- The project is a demo / learning project and does not include production-grade security features.

## Contributing

Contributions, bug reports and PRs are welcome. Please open issues or PRs on the repo.

## License

MIT ‚Äî see LICENSE or add one if you want to explicitly set it.
